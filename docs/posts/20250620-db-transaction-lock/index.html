<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/blog/_next/static/css/15dc6a3128836163.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/15dc6a3128836163.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/6712705596c3ce9a.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/6712705596c3ce9a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/blog/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/blog/_next/static/chunks/webpack-8b7febd1bced9880.js" defer=""></script><script src="/blog/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/blog/_next/static/chunks/main-5e639160cc5824a5.js" defer=""></script><script src="/blog/_next/static/chunks/pages/_app-e07be00a65a2be40.js" defer=""></script><script src="/blog/_next/static/chunks/393-1e28617e1da6cdba.js" defer=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-c0e78d37ea4396c8.js" defer=""></script><script src="/blog/_next/static/5X19qxgLC2QkQq_2Mkdxv/_buildManifest.js" defer=""></script><script src="/blog/_next/static/5X19qxgLC2QkQq_2Mkdxv/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.6">.dsDmKE{font-size:1.8em;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g1[id="sc-7a2fb667-0"]{content:"dsDmKE,"}/*!sc*/
.CkIoe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:60px;padding:0 12px;}/*!sc*/
data-styled.g2[id="sc-b83349da-0"]{content:"CkIoe,"}/*!sc*/
.gZgVaN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:150px;}/*!sc*/
data-styled.g3[id="sc-65db2cc7-0"]{content:"gZgVaN,"}/*!sc*/
.faTxYj{width:1024px;margin:2rem auto 0;}/*!sc*/
@media (max-width:1024px){.faTxYj{width:768px;}}/*!sc*/
@media (max-width:768px){.faTxYj{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:100px;width:100%;padding:0 12px;}}/*!sc*/
data-styled.g4[id="sc-86703585-0"]{content:"faTxYj,"}/*!sc*/
.biHffe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}/*!sc*/
data-styled.g5[id="sc-415e9204-0"]{content:"biHffe,"}/*!sc*/
.kFSSWF{width:100%;margin-right:10px;padding:7px;border:1px solid #444;border-radius:5px;font-size:1.2rem;}/*!sc*/
data-styled.g6[id="sc-415e9204-1"]{content:"kFSSWF,"}/*!sc*/
.loLrxI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;gap:50px;}/*!sc*/
.loLrxI *{margin:0;}/*!sc*/
data-styled.g7[id="sc-f3c104c8-0"]{content:"loLrxI,"}/*!sc*/
.fdrrze{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;text-align:center;}/*!sc*/
data-styled.g8[id="sc-f3c104c8-1"]{content:"fdrrze,"}/*!sc*/
.cJAFHI{margin-top:0;}/*!sc*/
data-styled.g9[id="sc-f3c104c8-2"]{content:"cJAFHI,"}/*!sc*/
.huBxYE{border-radius:50%;}/*!sc*/
data-styled.g10[id="sc-f3c104c8-3"]{content:"huBxYE,"}/*!sc*/
.jyiLaO{white-space:pre-wrap;}/*!sc*/
data-styled.g11[id="sc-f3c104c8-4"]{content:"jyiLaO,"}/*!sc*/
.ilwROs{width:100%;padding-inline-start:0;font-size:1.2rem;list-style-type:none;overflow:hidden;}/*!sc*/
.ilwROs li{width:100%;}/*!sc*/
.ilwROs a{display:inline-block;width:100%;height:40px;overflow:hidden;white-space:nowrap;-webkit-text-decoration:none;text-decoration:none;text-overflow:ellipsis;}/*!sc*/
data-styled.g12[id="sc-f3c104c8-5"]{content:"ilwROs,"}/*!sc*/
.MLuyj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;gap:50px;}/*!sc*/
data-styled.g13[id="sc-5a24f448-0"]{content:"MLuyj,"}/*!sc*/
.eEOreA{width:calc(100% - 50px - 240px);}/*!sc*/
@media (max-width:1024px){.eEOreA{width:calc(100% - 50px - 180px);}}/*!sc*/
@media (max-width:768px){.eEOreA{width:100%;}}/*!sc*/
data-styled.g14[id="sc-5a24f448-1"]{content:"eEOreA,"}/*!sc*/
.hUGdAH{width:240px;}/*!sc*/
@media (max-width:1024px){.hUGdAH{width:180px;}}/*!sc*/
@media (max-width:768px){.hUGdAH{width:100%;}}/*!sc*/
data-styled.g15[id="sc-5a24f448-2"]{content:"hUGdAH,"}/*!sc*/
.jrFJws *{word-wrap:break-word;}/*!sc*/
.jrFJws h1{margin:1.4rem 0 1rem;}/*!sc*/
.jrFJws h2{margin:3rem 0 0.8rem;}/*!sc*/
.jrFJws h2:first-child{margin-top:0.5rem;}/*!sc*/
.jrFJws h2 + h3{margin-top:1rem;}/*!sc*/
.jrFJws h3{margin:2.5rem 0 0.7rem;}/*!sc*/
.jrFJws h3 + h4{margin-top:0.7rem;}/*!sc*/
.jrFJws h4{margin:2rem 0 0.5rem;}/*!sc*/
.jrFJws a,.jrFJws img,.jrFJws pre{margin:1rem 0;}/*!sc*/
.jrFJws img{max-width:100%;}/*!sc*/
.jrFJws pre{overflow:scroll;}/*!sc*/
.jrFJws table{border-collapse:collapse;border-spacing:0;border-top:1px solid #f0f0f0;display:block;overflow-x:auto;width:100%;}/*!sc*/
.jrFJws th,.jrFJws td{min-width:100px;text-align:left;padding:8px 12px;}/*!sc*/
.jrFJws th{background-color:#f0f0f0;}/*!sc*/
.jrFJws td{border-bottom:1px solid #ddd;}/*!sc*/
data-styled.g19[id="sc-71c5d68d-0"]{content:"jrFJws,"}/*!sc*/
.glZqIN{margin-top:0.5rem;margin-bottom:1.5rem;}/*!sc*/
data-styled.g20[id="sc-71c5d68d-1"]{content:"glZqIN,"}/*!sc*/
</style></head><body><div id="__next"><header class="sc-b83349da-0 CkIoe"><a class="sc-7a2fb667-0 dsDmKE" href="/blog/">Yushi&#x27;s Tech Blog</a></header><div class="sc-86703585-0 sc-5a24f448-0 faTxYj MLuyj"><main class="sc-5a24f448-1 eEOreA"><article><small>2026-06-24</small><h1 class="sc-71c5d68d-1 glZqIN">DBã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ­ãƒƒã‚¯</h1><div class="sc-71c5d68d-0 jrFJws article-content_ArticleContent__8CaWz"><!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <p>ç¾å ´ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ãŠã„ã¦é‡è¦ãªã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€ã€Œãƒ­ãƒƒã‚¯ã€ã®æ¦‚å¿µãƒ»ä½¿ã„æ–¹ãƒ»SQL ä¾‹ã‚’ç¶²ç¾…çš„ã«è§£èª¬ã€‚</p>
    <h2>ğŸ§± 1. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ã¯</h2>
    <ul>
      <li>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãŠã‘ã‚‹ä¸€é€£ã®å‡¦ç†ã®å˜ä½</li>
      <li>æ•´åˆæ€§ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã®ä¸å¯æ¬ ãªæ©Ÿæ§‹</li>
      <li>ACID ç‰¹æ€§ï¼ˆå¾Œè¿°ï¼‰ã«å¾“ã†</li>
    </ul>
    <h2>ğŸ§ª 2. ACID ç‰¹æ€§</h2>
    <ul>
      <li><strong>Atomicityï¼ˆåŸå­æ€§ï¼‰</strong>: å…¨å‡¦ç†ãŒæˆåŠŸ or å…¨ã¦ç„¡åŠ¹</li>
      <li><strong>Consistencyï¼ˆä¸€è²«æ€§ï¼‰</strong>: ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ä¿ã¤</li>
      <li><strong>Isolationï¼ˆç‹¬ç«‹æ€§ï¼‰</strong>: ä»–ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å½±éŸ¿ã‚’é®æ–­</li>
      <li><strong>Durabilityï¼ˆæ°¸ç¶šæ€§ï¼‰</strong>: ã‚³ãƒŸãƒƒãƒˆå¾Œã®å¤‰æ›´ã¯ä¿æŒã•ã‚Œã‚‹</li>
    </ul>
    <h2>ğŸ”¹ 3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®åŸºæœ¬æ§‹æ–‡ï¼ˆSQLï¼‰</h2>
    <pre><code class="hljs language-sql"><span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-comment">-- ä»»æ„ã®å‡¦ç†</span>
<span class="hljs-keyword">COMMIT</span>;    <span class="hljs-comment">-- æ­£å¸¸çµ‚äº†</span>
<span class="hljs-keyword">ROLLBACK</span>;  <span class="hljs-comment">-- ç•°å¸¸çµ‚äº†</span>
</code></pre>
    <h2>ğŸ¤¯ 4. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ†é›¢ãƒ¬ãƒ™ãƒ«ï¼ˆIsolation Levelï¼‰</h2>
    <table>
      <thead>
        <tr>
          <th>åˆ†é›¢ãƒ¬ãƒ™ãƒ«</th>
          <th>ç‰¹å¾´</th>
          <th>ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¾‹</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>READ UNCOMMITTED</td>
          <td>ãƒ€ãƒ¼ãƒ†ã‚£ãƒªãƒ¼ãƒ‰ã‚ã‚Šã€æ•´åˆæ€§ä¿è¨¼ãªã—</td>
          <td>åŸºæœ¬ä½¿ã‚ãªã„</td>
        </tr>
        <tr>
          <td>READ COMMITTED</td>
          <td>ã‚³ãƒŸãƒƒãƒˆæ¸ˆã¿ã®ã¿èª­ã‚ã‚‹</td>
          <td>ãƒ–ãƒ­ã‚°è¡¨ç¤ºç³»</td>
        </tr>
        <tr>
          <td>REPEATABLE READ</td>
          <td>åŒã˜ SELECT çµæœã¯å¤‰ã‚ã‚‰ãªã„ï¼ˆå¹»å½±è¡Œã‚ã‚Šï¼‰</td>
          <td>EC åœ¨åº«ç¢ºèª</td>
        </tr>
        <tr>
          <td>SERIALIZABLE</td>
          <td>å®Œå…¨ç›´åˆ—åŒ–ã€‚æœ€ã‚‚å³å¯†ã§ä½é€Ÿ</td>
          <td>é‡‘èç³»å‡¦ç†</td>
        </tr>
      </tbody>
    </table>
    <h3>ğŸ”§ è¨­å®šä¾‹ï¼ˆSQLï¼‰</h3>
    <pre><code class="hljs language-sql"><span class="hljs-keyword">SET</span> TRANSACTION ISOLATION LEVEL REPEATABLE READ;
<span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">123</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- å‡¦ç†</span>
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
    <h2>ğŸ” 5. ãƒ­ãƒƒã‚¯ã®ç¨®é¡ã¨ç”¨é€”</h2>
    <h3>æ’ä»–ãƒ­ãƒƒã‚¯ï¼ˆExclusive Lock / X Lockï¼‰</h3>
    <ul>
      <li>ä»–ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®èª­ã¿æ›¸ãã‚’ãƒ–ãƒ­ãƒƒã‚¯</li>
      <li><strong>ç”¨é€”</strong>: åœ¨åº«æ¸›ç®—ã€ä¼šå“¡ãƒ©ãƒ³ã‚¯åŠ ç®—</li>
    </ul>
    <pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
</code></pre>
    <h3>å…±æœ‰ãƒ­ãƒƒã‚¯ï¼ˆShared Lock / S Lockï¼‰</h3>
    <ul>
      <li>èª­ã¿å–ã‚Šã¯ OKã€æ›¸ãè¾¼ã¿ã¯ç¦æ­¢</li>
      <li><strong>ç”¨é€”</strong>: å®‰å…¨ãªèª­ã¿å–ã‚Šç”¨</li>
    </ul>
    <pre><code class="hljs language-sql"><span class="hljs-comment">-- MySQL</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> LOCK <span class="hljs-keyword">IN</span> SHARE MODE;

<span class="hljs-comment">-- PostgreSQL</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FOR</span> SHARE;
</code></pre>
    <h2>âš™ï¸ 6. ãƒ­ãƒƒã‚¯ã®ç²’åº¦</h2>
    <ul>
      <li><strong>ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ­ãƒƒã‚¯</strong>: å…¨ä½“ã«å½±éŸ¿ã€åŸºæœ¬éæ¨å¥¨</li>
      <li><strong>è¡Œãƒ­ãƒƒã‚¯</strong>: é«˜ã„ä¸¦è¡Œæ€§ã€InnoDB ã‚„ PostgreSQL ã§ä½¿ç”¨</li>
      <li><strong>ãƒšãƒ¼ã‚¸ãƒ­ãƒƒã‚¯</strong>: ä¸€éƒ¨ DB ã‚¨ãƒ³ã‚¸ãƒ³å†…éƒ¨å‘ã‘ï¼ˆæ˜ç¤ºçš„åˆ¶å¾¡ã¯ç¨€ï¼‰</li>
    </ul>
    <h2>ğŸ”€ 7. ãƒ­ãƒƒã‚¯ç«¶åˆã¨ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯</h2>
    <ul>
      <li><strong>ãƒ­ãƒƒã‚¯ç«¶åˆ</strong>: åŒä¸€ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—å¾…ã¡çŠ¶æ…‹ã«ãªã‚‹</li>
      <li><strong>ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯</strong>: ç›¸äº’ã«ãƒ­ãƒƒã‚¯å–å¾—å¾…ã¡ã§åœæ­¢</li>
    </ul>
    <h3>âœ… å¯¾ç­–</h3>
    <ul>
      <li>ãƒ­ãƒƒã‚¯å–å¾—é †åºã®çµ±ä¸€</li>
      <li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’çŸ­ã</li>
      <li>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š</li>
      <li>DB ã®è‡ªå‹•ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ¤œçŸ¥ï¼ˆPostgreSQL/MySQLï¼‰</li>
    </ul>
    <h2>ğŸ§  8. æ‚²è¦³çš„ãƒ­ãƒƒã‚¯ã¨æ¥½è¦³çš„ãƒ­ãƒƒã‚¯</h2>
    <h3>æ‚²è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆPessimistic Lockingï¼‰</h3>
    <ul>
      <li>äº‹å‰ã«ãƒ­ãƒƒã‚¯ã—ã¦ã‹ã‚‰å‡¦ç†</li>
      <li>é«˜ã„è¡çªå¯èƒ½æ€§ã«å‚™ãˆã‚‹</li>
    </ul>
    <pre><code class="hljs language-sql"><span class="hljs-keyword">START</span> TRANSACTION;
<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">123</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">123</span>;
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
    <h3>æ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆOptimistic Lockingï¼‰</h3>
    <ul>
      <li>æ›´æ–°æ™‚ã«<code>version</code>ç­‰ã§ç«¶åˆãƒã‚§ãƒƒã‚¯</li>
      <li>è»½é‡ãƒ»éåŒæœŸå‘ã</li>
    </ul>
    <pre><code class="hljs language-sql"><span class="hljs-keyword">UPDATE</span>
</code></pre>
  </body>
</html>
</div></article></main><aside class="sc-f3c104c8-0 loLrxI sc-5a24f448-2 hUGdAH"><section class="sc-f3c104c8-1 fdrrze"><h2 class="sc-f3c104c8-2 cJAFHI">Profile</h2><img alt="profile image" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="sc-f3c104c8-3 huBxYE" style="color:transparent" src="/blog/profile.png"/><div class="sc-f3c104c8-4 jyiLaO">
Webã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®yushiã§ã™ã€‚
é–¢è¥¿ã®ä¼æ¥­ã§è‡ªç¤¾ã‚µãƒ¼ãƒ“ã‚¹ã‚’é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚
Backendãƒ»FrontendãŒä¸»ãªå°‚é–€ç¯„å›²ã§ã™ã€‚
<a href="https://nek0meshi.github.io/profile">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸</a></div></section><section class="sc-f3c104c8-1 fdrrze"><h2 class="sc-f3c104c8-2 cJAFHI">Search</h2><form class="sc-415e9204-0 biHffe"><input type="search" class="sc-415e9204-1 kFSSWF" value=""/></form></section><section class="sc-f3c104c8-1 fdrrze"><h2 class="sc-f3c104c8-2 cJAFHI">Latest</h2><ul class="sc-f3c104c8-5 ilwROs"><li><a href="/blog/posts/20250620-db-transaction-lock/">DBã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ­ãƒƒã‚¯</a></li><li><a href="/blog/posts/20250627-til/">TIL 2025/06/27</a></li><li><a href="/blog/posts/20250624-web-tech-future/">2030å¹´ã¾ã§ã®Webé–‹ç™º</a></li><li><a href="/blog/posts/20250624-til/">TIL 2025/06/24</a></li><li><a href="/blog/posts/20250624-ai-fullstack/">ã‚¤ãƒ™ãƒ³ãƒˆã€ŒæŠ€è¡“ã®ç·åˆæ ¼é—˜æŠ€ã€ç”ŸæˆAIæ™‚ä»£ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã€</a></li></ul></section></aside></div><footer class="sc-65db2cc7-0 gZgVaN">Â©ï¸ 2022-2024 YUSHI WATANABE</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"utf-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\"\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cp\u003eç¾å ´ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ãŠã„ã¦é‡è¦ãªã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€ã€Œãƒ­ãƒƒã‚¯ã€ã®æ¦‚å¿µãƒ»ä½¿ã„æ–¹ãƒ»SQL ä¾‹ã‚’ç¶²ç¾…çš„ã«è§£èª¬ã€‚\u003c/p\u003e\n    \u003ch2\u003eğŸ§± 1. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ã¯\u003c/h2\u003e\n    \u003cul\u003e\n      \u003cli\u003eãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãŠã‘ã‚‹ä¸€é€£ã®å‡¦ç†ã®å˜ä½\u003c/li\u003e\n      \u003cli\u003eæ•´åˆæ€§ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã®ä¸å¯æ¬ ãªæ©Ÿæ§‹\u003c/li\u003e\n      \u003cli\u003eACID ç‰¹æ€§ï¼ˆå¾Œè¿°ï¼‰ã«å¾“ã†\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003ch2\u003eğŸ§ª 2. ACID ç‰¹æ€§\u003c/h2\u003e\n    \u003cul\u003e\n      \u003cli\u003e\u003cstrong\u003eAtomicityï¼ˆåŸå­æ€§ï¼‰\u003c/strong\u003e: å…¨å‡¦ç†ãŒæˆåŠŸ or å…¨ã¦ç„¡åŠ¹\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eConsistencyï¼ˆä¸€è²«æ€§ï¼‰\u003c/strong\u003e: ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ä¿ã¤\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eIsolationï¼ˆç‹¬ç«‹æ€§ï¼‰\u003c/strong\u003e: ä»–ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å½±éŸ¿ã‚’é®æ–­\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eDurabilityï¼ˆæ°¸ç¶šæ€§ï¼‰\u003c/strong\u003e: ã‚³ãƒŸãƒƒãƒˆå¾Œã®å¤‰æ›´ã¯ä¿æŒã•ã‚Œã‚‹\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003ch2\u003eğŸ”¹ 3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®åŸºæœ¬æ§‹æ–‡ï¼ˆSQLï¼‰\u003c/h2\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSTART\u003c/span\u003e TRANSACTION;\n\u003cspan class=\"hljs-comment\"\u003e-- ä»»æ„ã®å‡¦ç†\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOMMIT\u003c/span\u003e;    \u003cspan class=\"hljs-comment\"\u003e-- æ­£å¸¸çµ‚äº†\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eROLLBACK\u003c/span\u003e;  \u003cspan class=\"hljs-comment\"\u003e-- ç•°å¸¸çµ‚äº†\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n    \u003ch2\u003eğŸ¤¯ 4. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³åˆ†é›¢ãƒ¬ãƒ™ãƒ«ï¼ˆIsolation Levelï¼‰\u003c/h2\u003e\n    \u003ctable\u003e\n      \u003cthead\u003e\n        \u003ctr\u003e\n          \u003cth\u003eåˆ†é›¢ãƒ¬ãƒ™ãƒ«\u003c/th\u003e\n          \u003cth\u003eç‰¹å¾´\u003c/th\u003e\n          \u003cth\u003eãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ä¾‹\u003c/th\u003e\n        \u003c/tr\u003e\n      \u003c/thead\u003e\n      \u003ctbody\u003e\n        \u003ctr\u003e\n          \u003ctd\u003eREAD UNCOMMITTED\u003c/td\u003e\n          \u003ctd\u003eãƒ€ãƒ¼ãƒ†ã‚£ãƒªãƒ¼ãƒ‰ã‚ã‚Šã€æ•´åˆæ€§ä¿è¨¼ãªã—\u003c/td\u003e\n          \u003ctd\u003eåŸºæœ¬ä½¿ã‚ãªã„\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd\u003eREAD COMMITTED\u003c/td\u003e\n          \u003ctd\u003eã‚³ãƒŸãƒƒãƒˆæ¸ˆã¿ã®ã¿èª­ã‚ã‚‹\u003c/td\u003e\n          \u003ctd\u003eãƒ–ãƒ­ã‚°è¡¨ç¤ºç³»\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd\u003eREPEATABLE READ\u003c/td\u003e\n          \u003ctd\u003eåŒã˜ SELECT çµæœã¯å¤‰ã‚ã‚‰ãªã„ï¼ˆå¹»å½±è¡Œã‚ã‚Šï¼‰\u003c/td\u003e\n          \u003ctd\u003eEC åœ¨åº«ç¢ºèª\u003c/td\u003e\n        \u003c/tr\u003e\n        \u003ctr\u003e\n          \u003ctd\u003eSERIALIZABLE\u003c/td\u003e\n          \u003ctd\u003eå®Œå…¨ç›´åˆ—åŒ–ã€‚æœ€ã‚‚å³å¯†ã§ä½é€Ÿ\u003c/td\u003e\n          \u003ctd\u003eé‡‘èç³»å‡¦ç†\u003c/td\u003e\n        \u003c/tr\u003e\n      \u003c/tbody\u003e\n    \u003c/table\u003e\n    \u003ch3\u003eğŸ”§ è¨­å®šä¾‹ï¼ˆSQLï¼‰\u003c/h3\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSET\u003c/span\u003e TRANSACTION ISOLATION LEVEL REPEATABLE READ;\n\u003cspan class=\"hljs-keyword\"\u003eSTART\u003c/span\u003e TRANSACTION;\n\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e stock \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFOR\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eUPDATE\u003c/span\u003e;\n\u003cspan class=\"hljs-comment\"\u003e-- å‡¦ç†\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOMMIT\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n    \u003ch2\u003eğŸ” 5. ãƒ­ãƒƒã‚¯ã®ç¨®é¡ã¨ç”¨é€”\u003c/h2\u003e\n    \u003ch3\u003eæ’ä»–ãƒ­ãƒƒã‚¯ï¼ˆExclusive Lock / X Lockï¼‰\u003c/h3\u003e\n    \u003cul\u003e\n      \u003cli\u003eä»–ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®èª­ã¿æ›¸ãã‚’ãƒ–ãƒ­ãƒƒã‚¯\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eç”¨é€”\u003c/strong\u003e: åœ¨åº«æ¸›ç®—ã€ä¼šå“¡ãƒ©ãƒ³ã‚¯åŠ ç®—\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFOR\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eUPDATE\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n    \u003ch3\u003eå…±æœ‰ãƒ­ãƒƒã‚¯ï¼ˆShared Lock / S Lockï¼‰\u003c/h3\u003e\n    \u003cul\u003e\n      \u003cli\u003eèª­ã¿å–ã‚Šã¯ OKã€æ›¸ãè¾¼ã¿ã¯ç¦æ­¢\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eç”¨é€”\u003c/strong\u003e: å®‰å…¨ãªèª­ã¿å–ã‚Šç”¨\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-comment\"\u003e-- MySQL\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e LOCK \u003cspan class=\"hljs-keyword\"\u003eIN\u003c/span\u003e SHARE MODE;\n\n\u003cspan class=\"hljs-comment\"\u003e-- PostgreSQL\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFOR\u003c/span\u003e SHARE;\n\u003c/code\u003e\u003c/pre\u003e\n    \u003ch2\u003eâš™ï¸ 6. ãƒ­ãƒƒã‚¯ã®ç²’åº¦\u003c/h2\u003e\n    \u003cul\u003e\n      \u003cli\u003e\u003cstrong\u003eãƒ†ãƒ¼ãƒ–ãƒ«ãƒ­ãƒƒã‚¯\u003c/strong\u003e: å…¨ä½“ã«å½±éŸ¿ã€åŸºæœ¬éæ¨å¥¨\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eè¡Œãƒ­ãƒƒã‚¯\u003c/strong\u003e: é«˜ã„ä¸¦è¡Œæ€§ã€InnoDB ã‚„ PostgreSQL ã§ä½¿ç”¨\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eãƒšãƒ¼ã‚¸ãƒ­ãƒƒã‚¯\u003c/strong\u003e: ä¸€éƒ¨ DB ã‚¨ãƒ³ã‚¸ãƒ³å†…éƒ¨å‘ã‘ï¼ˆæ˜ç¤ºçš„åˆ¶å¾¡ã¯ç¨€ï¼‰\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003ch2\u003eğŸ”€ 7. ãƒ­ãƒƒã‚¯ç«¶åˆã¨ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯\u003c/h2\u003e\n    \u003cul\u003e\n      \u003cli\u003e\u003cstrong\u003eãƒ­ãƒƒã‚¯ç«¶åˆ\u003c/strong\u003e: åŒä¸€ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—å¾…ã¡çŠ¶æ…‹ã«ãªã‚‹\u003c/li\u003e\n      \u003cli\u003e\u003cstrong\u003eãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯\u003c/strong\u003e: ç›¸äº’ã«ãƒ­ãƒƒã‚¯å–å¾—å¾…ã¡ã§åœæ­¢\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003ch3\u003eâœ… å¯¾ç­–\u003c/h3\u003e\n    \u003cul\u003e\n      \u003cli\u003eãƒ­ãƒƒã‚¯å–å¾—é †åºã®çµ±ä¸€\u003c/li\u003e\n      \u003cli\u003eãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’çŸ­ã\u003c/li\u003e\n      \u003cli\u003eã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š\u003c/li\u003e\n      \u003cli\u003eDB ã®è‡ªå‹•ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ¤œçŸ¥ï¼ˆPostgreSQL/MySQLï¼‰\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003ch2\u003eğŸ§  8. æ‚²è¦³çš„ãƒ­ãƒƒã‚¯ã¨æ¥½è¦³çš„ãƒ­ãƒƒã‚¯\u003c/h2\u003e\n    \u003ch3\u003eæ‚²è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆPessimistic Lockingï¼‰\u003c/h3\u003e\n    \u003cul\u003e\n      \u003cli\u003eäº‹å‰ã«ãƒ­ãƒƒã‚¯ã—ã¦ã‹ã‚‰å‡¦ç†\u003c/li\u003e\n      \u003cli\u003eé«˜ã„è¡çªå¯èƒ½æ€§ã«å‚™ãˆã‚‹\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSTART\u003c/span\u003e TRANSACTION;\n\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e stock \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eFOR\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eUPDATE\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eUPDATE\u003c/span\u003e products \u003cspan class=\"hljs-keyword\"\u003eSET\u003c/span\u003e stock \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e stock \u003cspan class=\"hljs-operator\"\u003e-\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e id \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eCOMMIT\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n    \u003ch3\u003eæ¥½è¦³çš„ãƒ­ãƒƒã‚¯ï¼ˆOptimistic Lockingï¼‰\u003c/h3\u003e\n    \u003cul\u003e\n      \u003cli\u003eæ›´æ–°æ™‚ã«\u003ccode\u003eversion\u003c/code\u003eç­‰ã§ç«¶åˆãƒã‚§ãƒƒã‚¯\u003c/li\u003e\n      \u003cli\u003eè»½é‡ãƒ»éåŒæœŸå‘ã\u003c/li\u003e\n    \u003c/ul\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eUPDATE\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n","title":"DBã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ­ãƒƒã‚¯","date":"2026-06-24","matters":[{"slug":"2023-frontend-developer-roadmap","title":"2023å¹´ç‰ˆFrontend Developer Roadmapã‚’è¦‹ã¦ã¿ã‚‹","date":"2023-08-21"},{"slug":"20250619-bff","title":"BFFï¼ˆBackend For Frontendï¼‰ã¨ã¯","date":"2025-06-19"},{"slug":"20250620-db-transaction-lock","title":"DBã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ãƒ­ãƒƒã‚¯","date":"2026-06-24"},{"slug":"20250624-ai-fullstack","title":"ã‚¤ãƒ™ãƒ³ãƒˆã€ŒæŠ€è¡“ã®ç·åˆæ ¼é—˜æŠ€ã€ç”ŸæˆAIæ™‚ä»£ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºã€","date":"2025-06-24"},{"slug":"20250624-til","title":"TIL 2025/06/24","date":"2025-06-24"},{"slug":"20250624-web-tech-future","title":"2030å¹´ã¾ã§ã®Webé–‹ç™º","date":"2025-06-24"},{"slug":"20250627-til","title":"TIL 2025/06/27","date":"2025-06-27"},{"slug":"frontend-2025","title":"ã€React / Next.js / TypeScript é–‹ç™ºã§ä»ŠæŠ¼ã•ãˆã¦ãŠãã¹ãã“ã¨ï¼ˆ2025å¹´ç‰ˆï¼‰ã€‘","date":"2025-06-19"},{"slug":"interface-merge","title":"TypeScriptã§ã®Interfaceã®ãƒãƒ¼ã‚¸ã«ã¤ã„ã¦","date":"2024-07-07"},{"slug":"interface-vs-types","title":"TypeScriptã®interfaceã¨typeã®ä½¿ã„åˆ†ã‘","date":"2024-07-06"},{"slug":"material-ui","title":"Material UI: ãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«","date":"2024-08-16"},{"slug":"monorepo","title":"ãƒ¢ãƒ€ãƒ³ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒ¢ãƒãƒ¬ãƒ","date":"2024-07-07"},{"slug":"my-blog-1","title":"ã€è‡ªä½œãƒ–ãƒ­ã‚° 1ã€‘è‡ªä½œãƒ–ãƒ­ã‚°ã‚’ä½œã‚ŠãŸã„","date":"2023-02-06"},{"slug":"my-blog-2","title":"ã€è‡ªä½œãƒ–ãƒ­ã‚° 2ã€‘Markdownã‚’parseã™ã‚‹","date":"2023-02-19"},{"slug":"react-vs-svelte","title":"React vs Svelte: ãƒ¢ãƒ€ãƒ³ã‚¦ã‚§ãƒ–é–‹ç™ºã®æ–°ãŸãªé¸æŠè‚¢","date":"2024-07-07"}]},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"20250620-db-transaction-lock"},"buildId":"5X19qxgLC2QkQq_2Mkdxv","assetPrefix":"/blog","runtimeConfig":{"basePath":"/blog"},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>